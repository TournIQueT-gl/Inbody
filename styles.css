
:root{
  --bg:#0b0e14; --surface:#101521; --card:#141a2a; --muted:#8a92a6; --text:#eef1ff;
  --accent:#5b8cff; --green:#3ddc84; --red:#ff6b6b; --ring:#1f2a44; --border:#1a2236;
  --radius:18px; --shadow:0 8px 20px rgba(0,0,0,.22);
}
[data-theme="light"]{
  --bg:#f7f9fd; --surface:#ffffff; --card:#ffffff; --muted:#55607a; --text:#0b0e14;
  --accent:#3d6dff; --green:#2dbd73; --red:#e05050; --ring:#dfe6ff; --border:#e7eaf5;
  --shadow:0 6px 16px rgba(0,0,0,.08);
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial,'Noto Kufi Arabic',sans-serif;background:var(--bg);color:var(--text)}
.wrap{max-width:980px;margin:0 auto;padding:16px;padding-bottom:110px}
.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:14px;box-shadow:var(--shadow)}
.title{font-weight:800;font-size:20px;margin:6px 0 12px}
label{font-size:12px;color:var(--muted);display:block;margin-bottom:6px}
input,textarea,button,select{width:100%;padding:12px;border-radius:12px;border:1px solid var(--border);background:var(--surface);color:var(--text);outline:none}
button{background:var(--accent);border:none;font-weight:700;letter-spacing:.2px;cursor:pointer}
button.ghost{background:transparent}
table{width:100%;border-collapse:collapse}
th,td{padding:8px;border-bottom:1px solid var(--border);font-size:12px}
th{color:var(--muted);text-align:right}
.kpis{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
@media (max-width:700px){ .kpis{grid-template-columns:repeat(2,1fr)} }
.kpi{padding:12px;border-radius:16px;background:var(--surface);border:1px solid var(--border)}
.kpi .h{font-size:12px;color:var(--muted)}
.kpi .v{font-size:24px;font-weight:900}
.delta{font-size:12px;margin-top:2px}
.delta.up{color:var(--red)} .delta.down{color:var(--green)}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
@media (max-width:700px){ .grid{grid-template-columns:1fr} }
.ring{width:140px;height:140px;border-radius:50%;border:10px solid var(--ring);position:relative;display:flex;align-items:center;justify-content:center;margin:auto}
.ring>span{font-weight:900}
.ring .fill{position:absolute;inset:-10px;border-radius:50%;border:10px solid var(--accent);clip-path:polygon(50% 50%, 50% 0, 50% 0);transform:rotate(-90deg)}
.toolbar{display:flex;gap:12px;align-items:center;justify-content:space-between}
.tag{font-size:11px;color:var(--muted)}
.tabs{position:fixed;bottom:0;left:0;right:0;background:var(--surface);border-top:1px solid var(--border);display:flex;gap:6px;padding:8px 12px;justify-content:space-between;padding-bottom:calc(8px + env(safe-area-inset-bottom));z-index:2}
.tab{flex:1;padding:14px;border-radius:12px;border:1px solid transparent;background:transparent;min-height:44px}
.tab.active{background:var(--accent);color:#fff}
.view{display:none}
.view.active{display:block}
.chips{display:flex;gap:6px;flex-wrap:wrap}
.chip{padding:8px 10px;border-radius:999px;border:1px solid var(--border);background:var(--surface);font-size:12px}
.chip.active{background:var(--accent);color:#fff;border-color:transparent}
.search{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.update-banner{background:#ffd64d;color:#1a1a1a;padding:10px;border-radius:10px;margin:0 0 8px}
/* Quick Add */
.quick{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
@media (max-width:700px){ .quick{grid-template-columns:1fr 1fr 1fr} }
.badges{display:flex;gap:8px;flex-wrap:wrap}
.badge{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:6px 10px;font-size:12px}
/* Insights */
.ins-cards{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:700px){ .ins-cards{grid-template-columns:1fr} }
.kv{display:grid;grid-template-columns:180px 1fr;gap:8px}
